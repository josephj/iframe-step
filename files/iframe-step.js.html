<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>iframe-step.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.7.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.7.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/IframeStep.html">IframeStep</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/iframe-step.html">iframe-step</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: iframe-step.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;*global YUI, alert, document*&#x2F;
YUI.add(&quot;iframe-step&quot;, function (Y) {
    &#x2F;**
     * A iframe step control provides a widget for browsing among frames horizontally in an overloaded page region.
     *
     * @module iframe-step
     * @requires widget
     *&#x2F;

    &quot;use strict&quot;;

    var Lang = Y.Lang, &#x2F;&#x2F; Y.Lang shortcut.
        &#x2F;&#x2F;=================
        &#x2F;&#x2F; Constants
        &#x2F;&#x2F;=================
        MODULE_NAME = &quot;iframestep&quot;, &#x2F;&#x2F; For CSS namespace.
        MODULE_ID   = &quot;iframe-step&quot;,
        CSS_CLASSES, &#x2F;&#x2F; Used CSS class names.
        &#x2F;&#x2F;=================
        &#x2F;&#x2F; Private Methods
        &#x2F;&#x2F;=================
        _getClassName,
        _log;


    _log = function (msg, type, module) {
        type = type || &quot;info&quot;;
        module = module || MODULE_ID;
        Y.log(msg, type, module);
    };

    _getClassName = function (className) {
        return Y.ClassNameManager.getClassName(MODULE_NAME, className);
    };

    CSS_CLASSES = {
        &quot;buttons&quot;       : _getClassName(&quot;buttons&quot;),
        &quot;first&quot;         : _getClassName(&quot;first&quot;),
        &quot;last&quot;          : _getClassName(&quot;last&quot;),
        &quot;loading&quot;       : _getClassName(&quot;loading&quot;),
        &quot;item&quot;          : _getClassName(&quot;item&quot;),
        &quot;item-selected&quot; : _getClassName(&quot;item-selected&quot;),
        &quot;next-button&quot;   : _getClassName(&quot;next-button&quot;),
        &quot;prev-button&quot;   : _getClassName(&quot;prev-button&quot;),
        &quot;end-button&quot;    : _getClassName(&quot;end-button&quot;)
    };

    &#x2F;**
     * The IframeStep provides a widget for browsing among iframes.
     *
     * @class IframeStep
     * @extends Widget
     * @param config {Object} Configuration options for the widget
     * @constructor
     *&#x2F;
    function IframeStep(config) {
        IframeStep.superclass.constructor.apply(this, arguments);
    }

    IframeStep.NAME = MODULE_NAME;
    IframeStep.ATTRS = {
        &#x2F;**
         * Frames data collection.
         *
         * @attribute frames
         * @type {Object}
         *&#x2F;
        frames : {
            value: [],
            validator: Y.Lang.isObject
        },
        &#x2F;**
         * Current offset.
         *
         * @attribute offset
         * @type {Number}
         * @default 0
         *&#x2F;
        offset : {
            value: 0,
            validator: function (value) {
                var that = this;
                return that._validateOffset(value);
            }
        },
        &#x2F;**
         * The amount of iframes.
         *
         * @attribute offset
         * @type {Number}
         * @readOnly
         *&#x2F;
        total: {
            getter: function () {
                var that = this;
                return that.get(&quot;frames&quot;).length;
            },
            readOnly: true
        }
    };

    IframeStep.HTML_PARSER = {
        frames: function (srcNode) {
            var frames = [];
            srcNode.all(&quot;li&quot;).each(function (el) {
                frames.push({
                    title    : el.one(&quot;a&quot;).getHTML(),
                    url      : el.one(&quot;a&quot;).get(&quot;href&quot;),
                    rendered : false
                });
            });
            return frames;
        }
    };

    Y.extend(IframeStep, Y.Widget, {
        &#x2F;&#x2F;=================
        &#x2F;&#x2F; Event Handlers
        &#x2F;&#x2F;=================
        &#x2F;**
         * Updates UI according to provided offset.
         *
         * @method _uiSetOffset
         * @private
         * @param offset {Number} The frame offset.
         *&#x2F;
        _uiSetOffset: function (offset) {
            _log(&quot;_uiSetOffset() is executed.&quot;);
            var that = this,
                node = that.get(&quot;boundingBox&quot;),
                activeItem = node.one(&quot;.&quot; + CSS_CLASSES[&quot;item-selected&quot;]),
                frames = that.get(&quot;frames&quot;),
                frame = frames[offset],
                frameNode,
                itemNode = node.all(&quot;.&quot; + CSS_CLASSES.item).item(offset);

            &#x2F;&#x2F; Deals with CSS classes of boundingBox.
            node.removeClass(CSS_CLASSES.first + &quot;|&quot; + CSS_CLASSES.last);
            if (offset === 0) {
                node.addClass(CSS_CLASSES.first);
            } else if (offset === frames.length - 1) {
                node.addClass(CSS_CLASSES.last);
            }

            &#x2F;&#x2F; Renders a new iframe if it doesn&#x27;t exist.
            if (!frame.rendered) {
                frameNode = Y.Node.create(&#x27;&lt;iframe src=&quot;&#x27; + frame.url + &#x27;&quot;&gt;&lt;&#x2F;iframe&gt;&#x27;);
                itemNode.append(frameNode);
                node.addClass(CSS_CLASSES.loading);
                frameNode.once(&quot;load&quot;, function (e) {
                    node.removeClass(CSS_CLASSES.loading);
                });
                frame.rendered = true;
            }

            &#x2F;&#x2F; Provides appropriate class name to curren item.
            activeItem = node.one(&quot;.&quot; + CSS_CLASSES[&quot;item-selected&quot;]);
            if (activeItem) {
                activeItem.removeClass(CSS_CLASSES[&quot;item-selected&quot;]);
            }
            itemNode.addClass(CSS_CLASSES[&quot;item-selected&quot;]);
        },
        &#x2F;**
         * Handles offsetChange event.
         * It deals with CSS classes on boundingBox.
         *
         * @method _afterOffsetChange
         * @private
         * @param e {Y.Event} Event instance.
         *&#x2F;
        _afterOffsetChange : function (e) {
            _log(&quot;_afterOffsetChange() is executed.&quot;);
            var that = this;
            that._uiSetOffset(e.newVal);
        },
        &#x2F;&#x2F;=================
        &#x2F;&#x2F; Private Methods
        &#x2F;&#x2F;=================
        &#x2F;**
         * Validates if the provided offset is valid.
         *
         * @method _validateOffset
         * @private
         * @return {Boolean} false if it&#x27;s illegal.
         *&#x2F;
        _validateOffset: function (offset) {
            _log(&quot;_validateOffset() is executed.&quot;);
            var that = this;
            if (!Lang.isNumber(offset)) {
                return false;
            }
            if (offset &gt;= that.get(&quot;frames&quot;).length || offset &lt; 0) {
                _log(&quot;The offset attribute value (&quot; + offset + &quot;) is not valid.&quot;, &quot;warn&quot;);
                return false;
            }
            return true;
        },
        &#x2F;&#x2F;===================
        &#x2F;&#x2F; Protected Methods
        &#x2F;&#x2F;===================
       &#x2F;**
         * Creates the DOM structure for the IframeStep.
         *
         * @method renderUI
         * @protected
         *&#x2F;
        renderUI: function () {
            _log(&quot;renderUI() is executed.&quot;);
            var that = this,
                node;

            &#x2F;&#x2F; Appends buttons.
            node = that.get(&quot;contentBox&quot;);
            node.all(&quot;li&quot;).addClass(CSS_CLASSES.item);
            node.append([
                &#x27;&lt;div class=&quot;&#x27; + CSS_CLASSES.buttons + &#x27;&quot;&gt;&#x27;,
                &#x27;    &lt;button class=&quot;yui3-button &#x27; + CSS_CLASSES[&quot;prev-button&quot;] + &#x27;&quot;&gt;Prev&lt;&#x2F;button&gt;&#x27;,
                &#x27;    &lt;button class=&quot;yui3-button &#x27; + CSS_CLASSES[&quot;next-button&quot;] + &#x27;&quot;&gt;Next&lt;&#x2F;button&gt;&#x27;,
                &#x27;    &lt;button class=&quot;yui3-button &#x27; + CSS_CLASSES[&quot;end-button&quot;] + &#x27;&quot;&gt;End&lt;&#x2F;button&gt;&#x27;,
                &#x27;&lt;div&gt;&#x27;
            ].join(&quot;&quot;));
        },
        &#x2F;**
         * Binds button interaction.
         *
         * @method bindUI
         * @protected
         *&#x2F;
        bindUI : function () {
            _log(&quot;bindUI() is executed.&quot;);
            var that = this,
                node;

            node = that.get(&quot;contentBox&quot;);
            node.one(&quot;.&quot; + CSS_CLASSES[&quot;prev-button&quot;]).on(&quot;click&quot;, that.prev, that);
            node.one(&quot;.&quot; + CSS_CLASSES[&quot;next-button&quot;]).on(&quot;click&quot;, that.next, that);
            node.one(&quot;.&quot; + CSS_CLASSES[&quot;end-button&quot;]).on(&quot;click&quot;, function (e) {
                var that = this;
                that.fire(&quot;end&quot;);
            }, that);

            that.after(&quot;offsetChange&quot;, that._afterOffsetChange);
        },
        &#x2F;**
         * Synchronizes the DOM state with the attribute settings.
         *
         * @method syncUI
         * @protected
         *&#x2F;
        syncUI: function () {
            var that = this,
                offset = that.get(&quot;offset&quot;);

            that._uiSetOffset(offset);
        },
        &#x2F;&#x2F;=================
        &#x2F;&#x2F; Public Methods
        &#x2F;&#x2F;=================
        &#x2F;**
         * Switches to specific item.
         *
         * @method move
         * @public
         * @param offset {Boolean|Number} true if it switches to next iframe.
         *     false if it switches to previous iframe.
         *     You can also provide a number of offset to show a specific frame.
         *&#x2F;
        move: function (offset) {
            _log(&quot;move(&quot; + offset + &quot;) is executed.&quot;);
            var that = this;

            &#x2F;&#x2F; Converts and checks the offset argument.
            offset = (Lang.isString(offset)) ? parseInt(offset, 10) : offset;
            if (Lang.isBoolean(offset)) {
                offset = (offset) ? that.get(&quot;offset&quot;) + 1 : that.get(&quot;offset&quot;) - 1;
            }

             &#x2F;&#x2F; This triggers the _afterOffsetChange event.
            that._set(&quot;offset&quot;, offset);
        },
        &#x2F;**
         * Moves to next item.
         *
         * @method next
         * @public
         *&#x2F;
        next: function () {
            _log(&quot;next() is executed.&quot;);
            var that = this;
            that.move(true);
        },
        &#x2F;**
         * Moves to previous item.
         *
         * @method prev
         * @public
         *&#x2F;
        prev: function () {
            _log(&quot;prev() is executed.&quot;);
            var that = this;
            that.move(false);
        }
    });

    Y.IframeStep = IframeStep;

}, &quot;0.0.1&quot;, {requires: [&quot;widget&quot;]});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
